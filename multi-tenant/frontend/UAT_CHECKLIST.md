# OpenClaw 多租户系统 - 用户验收测试 (UAT) 检查清单

> 日期: 2026-02-06
> 版本: v0.1.0
> 目的: 验证前端界面与后端 API 的集成

---

## 测试环境准备

### 前置条件

- [ ] 租户管理服务已启动 (`http://localhost:3000`)
- [ ] Portainer 已配置并运行
- [ ] 至少一个 Worker 主机在线
- [ ] 前端已启动 (`http://localhost:3001`)

### 启动命令

```bash
# 终端 1: 启动租户管理服务
cd multi-tenant/tenant-manager
pnpm dev

# 终端 2: 启动前端
cd multi-tenant/frontend
pnpm dev
```

---

## UAT 测试用例

### 模块 1: 首页与导航

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-001 | 访问首页 | 1. 打开浏览器访问 `http://localhost:3001` | 显示 OpenClaw Cloud 首页，包含标题、描述、功能卡片 | | ☐ |
| UAT-002 | 导航到登录 | 1. 点击"立即开始"按钮 | 跳转到登录页面 (`/login`) | | ☐ |
| UAT-003 | 导航到仪表板 | 1. 点击"进入仪表板"按钮 | 跳转到仪表板或重定向到登录 | | ☐ |
| UAT-004 | 查看功能介绍 | 1. 滚动到"Features"部分 | 显示三个功能卡片：一键部署、完全隔离、多租户支持 | | ☐ |
| UAT-005 | 查看快速链接 | 1. 滚动到"Quick Links"部分 | 显示主机监控和 API 文档链接 | | ☐ |

### 模块 2: 登录功能

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-101 | 开发模式登录 | 1. 进入登录页<br>2. 选择"开发"标签<br>3. 使用默认的用户ID和邮箱<br>4. 点击"一键登录并创建实例" | 成功登录并跳转到仪表板 | | ☐ |
| UAT-102 | 自定义开发登录 | 1. 在"开发"标签输入自定义用户ID<br>2. 输入自定义邮箱<br>3. 点击登录 | 使用自定义凭证成功登录 | | ☐ |
| UAT-103 | 密码登录 | 1. 选择"密码"标签<br>2. 输入邮箱和任意密码<br>3. 点击登录 | 成功登录（简化验证） | | ☐ |
| UAT-104 | OAuth 占位符 | 1. 选择"OAuth"标签<br>2. 点击"使用 Google 登录" | 显示提示"暂未实现" | | ☐ |
| UAT-105 | 未登录重定向 | 1. 清除本地存储<br>2. 直接访问 `/dashboard` | 重定向到登录页 | | ☐ |

### 模块 3: 仪表板

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-201 | 查看空状态 | 1. 用新用户登录<br>2. 进入仪表板 | 显示"还没有 OpenClaw 实例"空状态 | | ☐ |
| UAT-202 | 查看实例列表 | 1. 创建至少一个实例后<br>2. 刷新仪表板 | 显示实例卡片列表 | | ☐ |
| UAT-203 | 查看实例数量 | 1. 观察"我的 OpenClaw 实例"标题 | 显示正确的实例数量 | | ☐ |
| UAT-204 | 用户信息显示 | 1. 查看头部用户信息 | 显示登录用户的邮箱 | | ☐ |
| UAT-205 | 刷新功能 | 1. 点击顶部刷新按钮 | 重新获取实例数据 | | ☐ |

### 模块 4: 创建实例

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-301 | 打开创建对话框 | 1. 点击"创建新实例"按钮 | 显示创建确认对话框 | | ☐ |
| UAT-302 | 取消创建 | 1. 在对话框中点击"取消" | 对话框关闭，不创建实例 | | ☐ |
| UAT-303 | 确认创建 | 1. 在对话框中点击"确认创建" | 实例被创建，对话框关闭 | | ☐ |
| UAT-304 | 创建成功反馈 | 1. 观察创建过程 | 显示加载状态，然后显示新实例 | | ☐ |
| UAT-305 | 实例状态初始 | 1. 查看新创建实例的状态 | 状态为"运行中"(running) | | ☐ |
| UAT-306 | 创建多个实例 | 1. 用同一用户再次创建实例 | 显示错误"已有实例" | | ☐ |

### 模块 5: 实例操作

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-401 | 查看实例URL | 1. 查看实例卡片 | 显示完整的访问URL | | ☐ |
| UAT-402 | 打开实例 | 1. 点击"打开"按钮 | 在新标签页打开实例URL | | ☐ |
| UAT-403 | 查看实例状态 | 1. 观察实例卡片右上角 | 显示状态徽章（运行中/已停止等） | | ☐ |
| UAT-404 | 查看计划信息 | 1. 查看实例卡片 | 显示计划类型（basic/free等） | | ☐ |
| UAT-405 | 查看创建时间 | 1. 查看实例卡片 | 显示相对时间（如"2分钟前"） | | ☐ |
| UAT-406 | 查看主机信息 | 1. 查看实例卡片 | 显示运行的主机名称 | | ☐ |

### 模块 6: 重启实例

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-501 | 重启按钮 | 1. 点击实例卡片的"重启"图标 | 按钮可点击 | | ☐ |
| UAT-502 | 重启执行 | 1. 点击重启按钮<br>2. 等待完成 | 实例被重启 | | ☐ |
| UAT-503 | 重启后状态 | 1. 重启完成后查看状态 | 状态仍为"运行中" | | ☐ |

### 模块 7: 删除实例

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-601 | 删除按钮 | 1. 点击实例卡片的"删除"图标 | 显示确认对话框 | | ☐ |
| UAT-602 | 取消删除 | 1. 在确认对话框点击"取消" | 对话框关闭，实例保留 | | ☐ |
| UAT-603 | 确认删除 | 1. 在确认对话框点击"确定" | 实例被删除 | | ☐ |
| UAT-604 | 删除后状态 | 1. 删除完成后刷新 | 实例从列表中移除 | | ☐ |
| UAT-605 | 删除后空状态 | 1. 删除唯一实例后 | 显示空状态页面 | | ☐ |

### 模块 8: 主机监控

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-701 | 导航到主机页 | 1. 点击顶部主机图标<br>2. 或点击"查看主机"链接 | 跳转到主机监控页面 | | ☐ |
| UAT-702 | 查看主机列表 | 1. 进入主机监控页 | 显示所有主机卡片 | | ☐ |
| UAT-703 | 查看摘要统计 | 1. 查看页面顶部统计卡片 | 显示主机总数、在线数、离线数、总租户数 | | ☐ |
| UAT-704 | 查看主机状态 | 1. 查看主机卡片 | 显示在线/离线/维护中状态 | | ☐ |
| UAT-705 | 查看主机URL | 1. 查看主机卡片 | 显示主机的 PublicURL | | ☐ |
| UAT-706 | 查看CPU信息 | 1. 查看有统计信息的主机 | 显示CPU核心数 | | ☐ |
| UAT-707 | 查看内存使用 | 1. 查看有统计信息的主机 | 显示内存使用量和进度条 | | ☐ |
| UAT-708 | 查看租户数量 | 1. 查看主机卡片 | 显示该主机上的租户数量 | | ☐ |
| UAT-709 | 查看主机类型 | 1. 查看主机卡片 | 显示 Docker Standalone 或 Swarm | | ☐ |
| UAT-710 | 返回仪表板 | 1. 点击"返回"按钮 | 返回到仪表板 | | ☐ |
| UAT-711 | 刷新主机数据 | 1. 点击刷新按钮 | 重新获取主机数据 | | ☐ |

### 模块 9: 错误处理

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-801 | API不可达 | 1. 停止租户管理服务<br>2. 尝试登录或刷新 | 显示错误提示或网络错误 | | ☐ |
| UAT-802 | 创建失败 | 1. 无可用主机时创建实例 | 显示错误消息 | | ☐ |
| UAT-803 | 删除失败 | 1. 模拟API错误时删除 | 显示错误提示 | | ☐ |
| UAT-804 | 加载状态 | 1. 观察数据加载时 | 显示加载动画 | | ☐ |

### 模块 10: 退出登录

| 用例 ID | 测试场景 | 操作步骤 | 预期结果 | 实际结果 | 通过 |
|---------|----------|----------|----------|----------|------|
| UAT-901 | 点击退出 | 1. 点击顶部退出图标 | 清除认证信息，跳转到登录页 | | ☐ |
| UAT-902 | 退出后访问 | 1. 退出后直接访问 `/dashboard` | 重定向到登录页 | | ☐ |

---

## 测试结果汇总

### 通过率统计

| 模块 | 总用例数 | 通过 | 失败 | 通过率 |
|------|----------|------|------|--------|
| 首页与导航 | 5 | | | % |
| 登录功能 | 5 | | | % |
| 仪表板 | 5 | | | % |
| 创建实例 | 6 | | | % |
| 实例操作 | 6 | | | % |
| 重启实例 | 3 | | | % |
| 删除实例 | 5 | | | % |
| 主机监控 | 11 | | | % |
| 错误处理 | 4 | | | % |
| 退出登录 | 2 | | | % |
| **总计** | **52** | | | **%** |

### 缺陷记录

| 缺陷ID | 用例ID | 描述 | 严重程度 | 状态 |
|--------|--------|------|----------|------|
| BUG-001 | UAT-XXX | 描述缺陷 | 高/中/低 | 待修复/已修复 |

---

## 签字确认

### 测试执行人员

| 姓名 | 角色 | 签字 | 日期 |
|------|------|------|------|
| | 测试人员 | | |
| | 开发代表 | | |
| | 产品代表 | | |

### 验收结论

- [ ] 通过验收，可以发布
- [ ] 有条件通过，需修复以下问题后发布：
- [ ] 未通过验收，需修复后重新测试

### 备注

（记录任何特殊说明或观察）
